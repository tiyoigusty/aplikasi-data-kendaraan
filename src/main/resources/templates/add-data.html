<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tambah Data Kendaraan</title>
    <!-- Link CSS Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            margin-top: 20px;
        }
        h2 img {
            margin-right: 10px;
        }
        textarea {
            resize: none;
        }
    </style>
</head>
<body>
<div class="container mt-3">
    <div class="d-flex gap-2 align-items-center mb-3">
        <img src="../static/Image/folder.png" alt="logo" style="width: 50px">
        <h1 class="h4">Aplikasi Data Kendaraan</h1>
    </div>

    <h4 class="mt-4">Tambah Data Kendaraan</h4>
    <form id="vehicleForm">
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="registration" class="form-label">No. Registrasi Kendaraan</label>
                <input type="text" id="registration" class="form-control" placeholder="B-7763-TXY">
            </div>
            <div class="col-md-6">
                <label for="year" class="form-label">Tahun Pembuatan</label>
                <input type="number" id="year" class="form-control" placeholder="2024">
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="owner" class="form-label">Nama Pemilik</label>
                <input type="text" id="owner" class="form-control" placeholder="Tiyo Igusty">
            </div>
            <div class="col-md-6">
                <label for="size" class="form-label">Kapasitas Silinder</label>
                <input type="number" id="size" class="form-control" placeholder="150">
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="brand" class="form-label">Merk Kendaraan</label>
                <input type="text" id="brand" class="form-control" placeholder="Honda Rebel">
            </div>
            <div class="col-md-6">
                <label for="color" class="form-label">Warna Kendaraan</label>
                <select id="color" class="form-select">
                    <option disabled selected>Pilih Warna</option>
                    <option value="Merah">Merah</option>
                    <option value="Hitam">Hitam</option>
                    <option value="Biru">Biru</option>
                    <option value="Abu-Abu">Abu-Abu</option>
                </select>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="fuel" class="form-label">Bahan Bakar</label>
                <input type="text" id="fuel" class="form-control" placeholder="Pertamax">
            </div>
            <div class="col-md-6">
                <label for="address" class="form-label">Alamat Pemilik Kendaraan</label>
                <textarea id="address" class="form-control" rows="3" placeholder="Jl. Achmad Yani No 89 Jakarta Pusat"></textarea>
            </div>
        </div>
        <div class="mt-4">
            <button type="submit" class="btn btn-primary">Tambah</button>
            <a href="index.html"><button type="button" class="btn btn-secondary">Kembali</button></a>
        </div>
    </form>
</div>

<!-- Link JavaScript Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        // Handle form submit
        $('#vehicleForm').on('submit', function(e) {
            e.preventDefault(); // Prevent form from submitting normally

            // Get form data
            const vehicleData = {
                registration: $('#registration').val(),
                year: $('#year').val(),
                owner: $('#owner').val(),
                size: $('#size').val(),
                brand: $('#brand').val(),
                color: $('#color').val(),
                fuel: $('#fuel').val(),
                address: $('#address').val()
            };

            // Send data to backend using AJAX
            $.ajax({
                url: 'http://localhost:8080/api/motorcycles',  // Ganti dengan URL backend yang sesuai
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify(vehicleData),
                success: function(response) {
                    alert('Data berhasil ditambahkan!');
                    window.location.href = 'index.html';  // Redirect to the main page after success
                },
                error: function(error) {
                    console.error('Error:', error);
                    alert('Terjadi kesalahan saat menambahkan data.');
                }
            });
        });
    });
</script>
</body>
</html>
